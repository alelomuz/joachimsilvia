// Translations object
const translations = {
    en: {
        /* Section 0 */
        title0: "Wedding of Silvia and Joachim",
        /* Section 1 */
        title1: "Ceremony",
        description1: "The ceremony and reception will take place at the reception hall of",
        /* Section 2 */
        title2: "Program",
        timeline2n1: "10:40 - BUS\n(ARGONAUTI - NOTE DI MARE)",
        timeline2n2: "11:00 - START",
        timeline2n3: "11:30 - CEREMONY",
        timeline2n4: "PHOTOS",
        timeline2n5: "APERITIF",
        timeline2n6: "LUNCH",
        timeline2n7: "19:30 - WEDDING CAKE\nAND DESSERTS",
        timeline2n8: "BOUQUET TOSS",
        timeline2n9: "AFTERPARTY WITH DJ\nAND COCKTAIL BAR",
        timeline2n10: "23:30 - FAVORS\nDELIVERY",
        timeline2n11: "00:00 - BUS\n(NOTE DI MARE - ARGONAUTI)",
        /* Section 3 */
        title3: "Accommodations",
        subtitle3n1: "Recommended accommodation for multi-day stays",
        description3n1: "We are available to indicate where you can stay during your stay. We list some accommodation facilities. We will stay at ",
        description3n2: " (Marina di Pisticci, MT). In the same village there are apartments for rent and a hotel.",
        subtitle3n2: "Recommended accommodations in Metaponto",
        description3n3: "Accommodation facilities are located near the reception hall in Metaonto, MT:",
        description3n4: "(accommodation with agreement with Notedimare)",
        /* Section 4 */
        title4: "Territory",
        /* Section 5 */
        title5: "Activities during\nthe Wedding Week",
        description5n1: "Tuesday, September 16: Palatine Tables and panzerottata",
        description5n2: "Wednesday, September 17: Matera and dinner at the brasserie (with a vegetarian option)",
        description5n3: "Thursday, September 18: Taranto and fish dinner (with a vegetarian option)",
        description5n4: "Friday, September 19: Amaro Lucano museum and dinner at Porto degli Argonauti.",
        description5n6: "Vegan dishes can be provided upon request.",
        description5n7: "We kindly ask you to register each individual participant by September 1st.",
        button5n1: "Register for the activities",
        button5n2: "Download the program",
        link5: "https://docs.google.com/document/d/1s-mjTc2fn7iang5sGu2R93fTVklix-RZMfhjApK_f7Q/edit?usp=drivesdk",
        /* Section 6 */
        title6: "Wedding List",
        description6n1: "Your presence at our wedding is the most beautiful gift.",
        description6n2: "A contribution would be the best way for us to make this new adventure together even more special. It will help us fulfill our honeymoon dreams and complete the furnishing of our home. You can transfer it to our wedding gift account:",
        description6n3: "Alternatively, you can choose a gift from our wedding registry by clicking the button. The list is divided into two columns: the first indicates where to buy in Germany, and the second in Italy. Each column contains several subsections. The first one lists the name of the item, while the last one provides an example of a retailer where it is available. This is only a reference: feel free to purchase wherever you prefer. Please remove the selected gift from both columns to avoid duplicates. Below is our address for sending gifts: ",
        description6n4: "Munich",
        button6: "Gift list",
        /* Section 7 */
        title7: "Confirm your\nParticipation",
        description7n1: "Don't want to miss this great unforgettable event? Then confirm your participation! Register each participant with first and last name. Food is one of the most important elements of a great party, so that everything is to your liking, please fill out the following form:",
        button7n1: "Confirm participation at the wedding",
        /* Section 8 */
        title8: "Contacts",
        /* Section 9 */
        title9: "Arrival",
        description9n1: "By car: State road Jonica-106, exit Metaponto.",
        description9n2: "By train: Adriatic railway line, direction Crotone, stop Metaponto.",
        description9n3: "By plane: The nearest airports are those of Bari Palese (BRI) and Brindisi (BDS) distant the first 109 km, the second 120 km. From Bari airport you can reach Metaponto by train or bus. We recommend, however, in case of arrival by plane, to rent a car to reach Metaponto.",
        description9n4: "For those who are flying from Munich, there is also the possibility of flying from Memmingen to Brindisi and from Nuremberg to Bari.",
        /* Section 10 */
        title10: "Dress code",
        description10: "Festive, elegant and chic. Suit or smoking is desired for men. Please avoid white and cream colors (except for shirts).",
        /* Section 11 */
        title11: "Playlist",
        description11: "To ensure that the music is to your liking, we would like to ask you to create a playlist with us for the DJ. To give him enough time to plan the music for the entire day, we ask you to enter your suggestions soon.",
        button11: "Suggest a song",
        /* Section 12 */
        title12: "Bus",
        description12: "For guests staying at the Argonauti village, a bus will be provided to reach the Notedimare reception venue. Departure is scheduled for 10:40 AM from the village entrance, and the return is set for midnight. Please reserve your seat on the bus by filling out the designated form. Each guest must be registered individually. The bus has a capacity of 54 seats. Registration will be closed once the maximum number of passengers has been reached.",
        button12: "Register for the bus",
    },
    de: {
        /* Section 0 */
        title0: "Hochzeit von Silvia und Joachim",
        /* Section 1 */
        title1: "Traungsfeier",
        description1: "Die Trauung und der Empfang finden statt im Festsaal von",
        /* Section 2 */
        title2: "Programm",
        timeline2n1: "10:40 - BUS\n(ARGONAUTI - NOTE DI MARE)",
        timeline2n2: "11:00 - BEGINN",
        timeline2n3: "11:30 - TRAUUNG",
        timeline2n4: "FOTOS",
        timeline2n5: "APERITIF",
        timeline2n6: "HOCHZEITSESSEN",
        timeline2n7: "19:30 - HOCHZEITSTORTE\nUND DESSERTS",
        timeline2n8: "WURF DES BRAUTSTRAUSS",
        timeline2n9: "AFTERPARTY MIT DJ\nUND COCKTAILBAR",
        timeline2n10: "23:30 - GASTGESCHENKE",
        timeline2n11: "00:00 - BUS\n(NOTE DI MARE - ARGONAUTI)",
        /* Section 3 */
        title3: "Übernachtungs\nmöglichkeiten",
        subtitle3n1: "Empfohlene Übernachtungsmöglichkeit für mehrtägige Aufenthalte",
        description3n1: "Wir helfen Ihnen gerne bei der Suche nach einer Unterkunft während Ihres Aufenthalts. Im folgenden einige Beispiele. Wir werden im ",
        description3n2: " (Marina di Pisticci, MT) übernachten. Hier sind Ferienwohnungen und ein Hotel vorhanden.",
        subtitle3n2: "Empfohlene Übernachtungsmöglichkeiten in Metaponto",
        description3n3: "In Metaponto gibt es Übernachtungsmöglichkeiten direkt in der Nähe der Hochzeitslocation:",
        description3n4: "(Unterkunft mit Vereinbarung mit Notedimare)",
        /* Section 4 */
        title4: "Die Gegend",
        /* Section 5 */
        title5: "Aktivitäten während\nder Hochzeitswoche",
        description5n1: "Dienstag der 16. September: Palatinische Tafeln und Panzerottata",
        description5n2: "Mittwoch der 17. September: Matera und Abendessen in der Brasserie (mit vegetarische Option)",
        description5n3: "Donnerstag der 18. September: Taranto und Fischabendessen (mit vegetarische Option)",
        description5n4: "Freitag der 19. September: Museum Amaro Lucano und Abendessen bei Porto degli Argonauti.",
        description5n6: "Auf Wunsch können vegane Gerichte angeboten werden.",
        description5n7: "Wir bitten euch, jede einzelne teilnehmende Person bis zum 1. September zu registrieren.",
        button5n1: "Registriere dich für die Aktivitäten",
        button5n2: "Programm herunterladen",
        link5: "https://docs.google.com/document/d/1hxLyHnMk7H1pNLaxme_nDyCBfe5j7TS_RAB9VjdRagc/edit?usp=drivesdk",
        /* Section 6 */
        title6: "Hochzeitstisch",
        description6n1: "Eure Anwesenheit bei unserer Hochzeit ist das schönste Geschenk. ",
        description6n2: "Ein Beitrag zu unseren Flitterwochen oder zur Vervollständigung unserer Wohnungseinrichtung wäre der beste Weg für uns, dieses neue Abenteuer gemeinsam noch spezieller zu gestalten. Ihr könnt dafür gerne direkt zu unserem Geschenkekonto beitragen:",
        description6n3: "Alternativ könnt ihr auch einen Idee aus unserer Hochzeitsliste auswählen, die ihr durch klicken auf dem Button finden könnt. Die Liste ist in zwei Spalten unterteilt: Die erste gibt an, wo man in Deutschland kaufen kann, die zweite für Italien. Jede Spalte enthält verschiedene Unterkategorien. Die erste nennt den Namen des Artikels, während die letzte ein Beispiel für einen Händler angibt, bei dem er erhältlich ist. Dies dient lediglich als Orientierung – fühlen Sie sich frei, dort zu kaufen, wo es Ihnen am besten passt. Bitte entfernt die entsprechende Zeile mit dem gewählten Geschenk aus beiden Spalten. Wessen Reisegepäck bereits gut gefüllt ist kann größere Geschenke auch gerne direkt an unsere Adresse in München senden:",
        description6n4: "München",
        button6: "Geschenkliste",
        /* Section 7 */
        title7: "Teilnahme\nBestätigen",
        description7n1: "Du willst dieses tolle Event nicht verpassen? Dann bestätige deine Teilnahme! Registriere bitte jeden Teilnehmer mit Vor- und Nachnamen. Das Essen ist eines der wichtigsten Elemente eines großen Festes. Damit alles deinen Vorlieben entspricht, fülle bitte das folgende Formular aus:",
        button7n1: "Teilnahme an der Hochzeit bestätigen",
        /* Section 8 */
        title8: "Kontakte",
        /* Section 9 */
        title9: "Anreise nach\nMetaponto",
        description9n1: "Mit Auto: Über Strada Statale (SS) 106 Jonica, Ausfahrt Metaponto.",
        description9n2: "Mit Zug: Adriatische Zuglinie, Richtung Crotone, Haltbahnhof Metaponto.",
        description9n3: "Mit Flugzeug: Die nächsten Flughäfen sind die von Bari Palese (BRI) und Brindisi (BDS). Der erste ist von Metaponto 109 km entfernt und der zweite 120km. Metaponto kann von Bari aus z.B. auch mit einer Direktbusverbindung vom Flughafenterminal erreicht werden. Von Brindisi kann man z.B. den Zug nach Metaponto über Taranto nehmen. Wir empfehlen am Flughafen ein Auto zu leihen um Metaponto erreichen zu können und um die Gegend erkunden zu können.",
        description9n4: "Für die Leute die noch von München aus fliegen, gibt es auch die Möglichkeit von Memmingen nach Brindisi und von Nürnberg nach Bari zu fliegen.",
        /* Section 10 */
        title10: "Dress code",
        description10: "Festlich, schick und elegant. Bei Männern Anzug oder Smoking erwünscht. Bitte die Farben weiß und creme vermeiden (ausgenommen Hemden).",
        /* Section 11 */
        title11: "Playlist",
        description11: "Damit die Musik euren Geschmack trifft, möchten wir euch bitten, mit uns eine Playlist für den DJ zu erstellen. Um ihm genügend Zeit zu geben, die Musik für den ganzen Tag zu planen, bitten wir euch, bald eure Vorschläge einzutragen.",
        button11: "Vorschlag für einen Song",
        /* Section 12 */
        title12: "Bus",
        description12: "Für die Gäste, die im Feriendorf Argonauti übernachten, wird ein Bus zur Verfügung gestellt, um den Festsaal Notedimare zu erreichen. Die Abfahrt ist um 10:40 Uhr am Eingang des Feriendorfs geplant, die Rückfahrt erfolgt um Mitternacht. Wir bitten euch, euren Platz im Bus zu reservieren, indem ihr das entsprechende Formular ausfüllt. Jeder Gast muss einzeln registriert werden. Der Bus verfügt über 54 Sitzplätze. Die Anmeldung wird geschlossen, sobald die maximale Anzahl an Fahrgästen erreicht ist.",
        button12: "Registriere dich für den Bus",
    },
    it: {
        /* Section 0 */
        title0: "Matrimonio di Silvia e Joachim",
        /* Section 1 */ 
        title1: "Cerimonia e\nRicevimento",
        description1: "La cerimonia e il ricevimento si svolgeranno presso la sala ricevimenti di",
        /* Section 2 */
        title2: "Programma\ndell'Evento",
        timeline2n1: "10:40 - BUS\n(ARGONAUTI - NOTE DI MARE)",
        timeline2n2: "11:00 - INIZIO",
        timeline2n3: "11:30 - CERIMONIA",
        timeline2n4: "FOTO",
        timeline2n5: "APERITIVO",
        timeline2n6: "PRANZO",
        timeline2n7: "19:30 - TORTA NUZIALE\nE BUFFET DEI DOLCI",
        timeline2n8: "LANCIO DEL BOUQUET",
        timeline2n9: "AFTERPARTY CON DJ\nE COCKTAILBAR",
        timeline2n10: "23:30 - CONSEGNA\nBOMBONIERE",
        timeline2n11: "00:00 - BUS\n(NOTE DI MARE - ARGONAUTI)",
        /* Section 3 */
        title3: "Pernottamento",
        subtitle3n1: "Struttura ricettiva consigliata per soggiorni di piú giorni",
        description3n1: "Siamo disponibili ad indicarvi dove poter alloggiare durante il vostro soggiorno. Riportiamo una lista di strutture ricettive.\nNoi allogeremo presso ",
        description3n2: " (Marina di Pisticci, MT). Nello stesso villaggio sono presenti appartamenti in affitto e l'hotel.",
        subtitle3n2: "Strutture ricettive consigliate a Metaponto",
        description3n3: "Strutture ricettive sono situate nelle vicinanze della sala ricevimenti a Metaponto, MT:",
        description3n4: "(struttura convenzionata con Notedimare)",
        /* Section 4 */
        title4: "Territorio",
        /* Section 5 */
        title5: "Attivitá Durante la\nSettimana Nuziale",
        description5n1: "Martedí 16 Settembre: Parco Archeologico e Tavole palatine a Metaponto, panzerottata e gelato",
        description5n2: "Mercoledí 17 Settembre: Matera (visita alla città dei Sassi) e cena in bracerria (con opzione vegetariana)",
        description5n3: "Giovedí 18 Settembre: Castello Aragonese e Città Vecchia a Taranto e cena di pesce (con opzione vegetariana)",
        description5n4: "Venerdí 19 Settembre: Museo dell'Amaro Lucano e cena presso Porto degli Argonauti",
        description5n6: "Alternative vegetariana su richiesta.",
        description5n7: "Vi chiediamo di registrare ogni singolo partecipante entro l'1 Settembre.",
        button5n1: "Registrati per le attività",
        button5n2: "Scarica il programma",
        link5: "https://docs.google.com/document/d/1s-mjTc2fn7iang5sGu2R93fTVklix-RZMfhjApK_f7Q/edit?usp=drivesdk",
        /* Section 6 */
        title6: "Lista Nozze",
        description6n1: "La vostra presenza al nostro matrimonio è il regalo più bello.",
        description6n2: "Un contributo sarebbe per noi il modo migliore per rendere ancora più speciale questa nuova avventura insieme. Ci aiuterà a realizzare il nostro viaggio di nozze e a completare l’arredamento della nostra casa. Potete versarlo al nostro conto per i regali del matrimonio:",
        description6n3: "In alternativa, potete scegliere un pensiero dalla nostra lista nozze, che trovate cliccando il bottone. La lista è suddivisa in due colonne: la prima indica dove acquistare in Germania, la seconda in Italia. Ogni colonna contiene diverse sottosezioni. La prima riporta il nome dell'articolo, mentre l'ultima fornisce un esempio di rivenditore presso cui è disponibile. Questo è solo un riferimento indicativo: sentitevi liberi di acquistare dove preferite. Vi preghiamo di rimuovere la riga del regalo scelto da entrambe le colonne per evitare doppioni. Di seguito, il nostro indirizzo per l'invio dei regali:",
        description6n4: "Monaco di Baviera",
        button6: "Proposte Regalo",
        /* Section 7 */
        title7: "Conferma\nPartecipazione",
        description7n1: "Non vorrai perderti questo grande evento indimenticabile? Allora conferma la partecipazione! Registra ogni singolo partecipante indicando nome e cognome. Il cibo è uno degli elementi più importanti di una grande festa, affinché tutto sia di tuo gradimento, compila il seguente formulario:",
        description7n2: "Se sei stato invitato per il taglio della torta e il party, compila il seguente formulario per ogni singolo invitato:",
        button7n1: "Conferma partecipazione al matrimonio",
        button7n2: "Conferma partecipazione al taglio torta e party",
        /* Section 8 */
        title8: "Contatti",
        /* Section 9 */
        title9: "Come raggiungere\nMetaponto",
        description9n1: "In auto: Statale Jonica-106, uscita Metaponto.",
        description9n2: "In treno: Linea ferroviaria adriatica, direzione Crotone, fermata Metaponto.",
        description9n3: "In aereo: Gli aeroporti vicini sono quelli di Bari Palese(BRI) e di Brindisi (BDS) distanti il primo 109 km, il secondo 120 km. Dall'aeroporto di Bari si può raggiungere Metaponto con il treno o con il bus di linea. Consigliamo comunque, in caso di arrivo in aereo, di noleggiare un'auto per raggiungere Metaponto.",
        description9n4: "Per chi vola da Monaco, c'è anche la possibilità di volare da Memmingen a Brindisi, e da Norimberga a Bari.",
        /*Section 10 */
        title10: "Dress code",
        description10: "Dress code formale. Smoking opzionale.",
        /* Section 11 */
        title11: "Playlist",
        description11: "Affinché la musica sia di vostro gradimento, vorremmo chiedervi di creare con noi una playlist per il DJ. Per dargli abbia abbastanza tempo per pianificare la musica per l'intera giornata, vi chiediamo di inserire prossimamente i vostri suggerimenti.",
        button11: "Suggerisci un brano",
        /* Section 12 */
        title12: "Bus",
        description12: "Per gli invitati che soggiorneranno presso il villaggio Argonauti, verrà messo a disposizione un bus per raggiungere la sala ricevimenti Notedimare. La partenza è prevista alle ore 10:40 dall’ingresso del villaggio, mentre il rientro è fissato per mezzanotte. Vi chiediamo cortesemente di riservare il vostro posto compilando l’apposito modulo. Ogni invitato deve essere registrato singolarmente. La capienza del bus è di 54 posti. Chiuderemo le iscrizioni quando sará raggiunto il numero massimo di passeggeri.",
        button12: "Registrati per il bus",
    }
};

// Function to get URL parameter
function getUrlParameter(name) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(name);
}

// Function to set URL parameter
function setUrlParameter(name, value) {
    const urlParams = new URLSearchParams(window.location.search);
    urlParams.set(name, value);
    window.history.replaceState({}, '', `${window.location.pathname}?${urlParams}`);
}

// Function to update content based on language
function updateLanguage(lang) {
    // 2D array: [section][typeIndex] where typeIndex: 0=title, 1=description, 2=subtitle, 3=button
    // Order: 0=title, 1=subtitle, 2=description, 3=button
    const sectionKeys = ["title", "subtitle", "description", "button"];
    const sectionElements = [
        [1, 0, 0, 0],  // 0
        [1, 0, 1, 0],  // 1
        [1, 0, 0, 0],  // 2
        [1, 2, 4, 0],  // 3
        [1, 0, 0, 0],  // 4
        [1, 0, 7, 2],  // 5
        [1, 0, 4, 1],  // 6
        [1, 0, 1, 2],  // 7
        [1, 0, 0, 0],  // 8
        [1, 0, 4, 0],  // 9
        [1, 0, 1, 0],  // 10
        [1, 0, 1, 1],  // 11
        [1, 0, 1, 1],  // 12
    ];

    for (let i = 0; i < sectionElements.length; i++) {
        for (let j = 0; j < sectionKeys.length; j++) {
            const count = sectionElements[i][j];
            for (let l = 1; l <= count; l++) {
                const key = `${sectionKeys[j]}${i}` + (count == 1 ? '' : `n${l}`);
                if (translations[lang][key] && document.getElementById(key)) {
                    document.getElementById(key).textContent = translations[lang][key];
                }
            }
        }
    }
    /* Section 0 */
    document.getElementById("nav0").textContent = translations[lang].title1.toUpperCase();
    document.getElementById("nav1").textContent = translations[lang].title2.toUpperCase();
    document.getElementById("nav2").textContent = translations[lang].title9.toUpperCase();
    document.getElementById("nav3").textContent = translations[lang].title3.toUpperCase();
    document.getElementById("nav4").textContent = translations[lang].title4.toUpperCase();
    document.getElementById("nav5").textContent = translations[lang].title5.toUpperCase();
    document.getElementById("nav6").textContent = translations[lang].title6.toUpperCase();
    document.getElementById("nav7").textContent = translations[lang].title10.toUpperCase();
    document.getElementById("nav8").textContent = translations[lang].title7.toUpperCase();
    document.getElementById("nav9").textContent = translations[lang].title8.toUpperCase();

    document.getElementById("navdd0").textContent = translations[lang].title1.toUpperCase();
    document.getElementById("navdd1").textContent = translations[lang].title2.toUpperCase();
    document.getElementById("navdd2").textContent = translations[lang].title9.toUpperCase();
    document.getElementById("navdd3").textContent = translations[lang].title3.toUpperCase();
    document.getElementById("navdd4").textContent = translations[lang].title4.toUpperCase();
    document.getElementById("navdd5").textContent = translations[lang].title5.toUpperCase();
    document.getElementById("navdd6").textContent = translations[lang].title6.toUpperCase();
    document.getElementById("navdd7").textContent = translations[lang].title10.toUpperCase();
    document.getElementById("navdd8").textContent = translations[lang].title7.toUpperCase();
    document.getElementById("navdd9").textContent = translations[lang].title8.toUpperCase();
    /* Section 2 */
    for (let i = 1; i <= 11; i++) {
        const key = `timeline2n${i}`;
        const el = document.getElementById(key);
        if (el && translations[lang][key]) {
            el.textContent = translations[lang][key];
        }
    }
    /* Section 5 */
    document.getElementById("button5n2").onclick = function() {
        window.open(translations[lang].link5, '_blank');
    };
    /* Section 7 */
    document.getElementById("description7n1").textContent = translations[lang].description7n1;
    const description7n2 = document.getElementById("description7n2");
    document.getElementById("button7n1").textContent = translations[lang].button7n1;
    const button7n2 = document.getElementById("button7n2");
    /* Section 8 */
    const giusyphone = document.getElementById("giusyphone");
    /* Language-specific elements */

    if (lang === "it") {
        giusyphone.style.display = "block";
        description7n2.textContent = translations[lang].description7n2;
        description7n2.style.display = "block";
        button7n2.textContent = translations[lang].button7n2;
        button7n2.style.display = "block";
    } else {
        giusyphone.style.display = "none";
        description7n2.textContent = "";
        description7n2.style.display = "none";
        button7n2.textContent = "";
        button7n2.style.display = "none";
    }
    setUrlParameter('lang', lang);
}

// Function to toggle dark mode
function toggleDarkMode() {
    document.documentElement.classList.toggle('dark-mode');
    const isDarkMode = document.documentElement.classList.contains('dark-mode');
    setUrlParameter('dark', isDarkMode ? '1' : '0');
}

// Language switcher event listener
const languageSelect = document.getElementById("language");
languageSelect.addEventListener("change", (event) => {
    const selectedLanguage = event.target.value;
    updateLanguage(selectedLanguage);
});

document.addEventListener("DOMContentLoaded", () => {
    // Initialize the page with settings from URL
    const lang = getUrlParameter('lang') || 'it';
    const darkMode = getUrlParameter('dark') === '1';
    
    // Update dropdown to match URL parameter
    document.getElementById("language").value = lang;
    
    updateLanguage(lang);
    if (darkMode) {
        document.documentElement.classList.add('dark-mode');
    }
});

function navigateTo(sectionId) {
    document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
}

function toggleMenu() {
    const dropdown = document.getElementById('hamburgerDropdown');
    if (dropdown.style.display === 'none' || dropdown.style.display === '') {
        dropdown.style.display = 'table';
    } else {
        dropdown.style.display = 'none';
    }
}

// Add event listener for window resize
window.addEventListener('resize', handleResize);

function handleResize() {
    const dropdown = document.getElementById('hamburgerDropdown');
    if (window.innerWidth > 768) {
        dropdown.style.display = 'none';
    }
}